<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>modgen minetest mod</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>modgen</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#manifest_json">manifest.json </a></li>
<li><a href="#chunks">chunks </a></li>
<li><a href="#versions">versions </a></li>
</ul>


<h2>Topics</h2>
<ul class="">
  <li><strong>readme</strong></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><a href="../modules/autosave.html">autosave</a></li>
  <li><a href="../modules/chunk.html">chunk</a></li>
  <li><a href="../modules/export.html">export</a></li>
  <li><a href="../modules/functions.html">functions</a></li>
  <li><a href="../modules/import_mod.html">import_mod</a></li>
  <li><a href="../modules/manifest.html">manifest</a></li>
  <li><a href="../modules/serialize.html">serialize</a></li>
</ul>

</div>

<div id="content">

    modgen mod for minetest</p>

<p><img src="https://github.com/BuckarooBanzay/modgen/workflows/luacheck/badge.svg" alt=""/>
<img src="https://github.com/BuckarooBanzay/modgen/workflows/test/badge.svg" alt=""/>
<img src="https://github.com/BuckarooBanzay/modgen/workflows/busted/badge.svg" alt=""/>
<a href="license.txt"><img src="https://img.shields.io/badge/License-MIT%20and%20CC%20BY--SA%203.0-green.svg" alt="License"/></a>
<a href="https://content.minetest.net/packages/BuckarooBanzay/modgen"><img src="https://img.shields.io/badge/Download-ContentDB-blue.svg" alt="Download"/></a></p>

<h1>Overview</h1>

<p>Allows you to export a part of the map as a standalone mod which can be used as a mapgen</p>

<p>Api docs: https://buckaroobanzay.github.io/modgen/</p>

<p>Demo: https://github.com/BuckarooBanzay/mesecons_lab</p>

<p><img src="./screenshot.png" alt="Screenshot"/></p>

<h1>Commands</h1>

<ul>
    <li><code>/pos1</code>, <code>/pos2</code> Set opposite corners of the export map</li>
    <li><code>/export [fast]</code> Exports the map as a standalone mod into <code>${worldfolder}/modgen_mod_export</code></li>
    <li><code>/modgen_stats</code> Returns some stats about the exported chunks and size</li>
    <li><code>/autosave [on|off]</code> enables autosave feature (<strong>warning</strong>: may not work on some worldedit commands)</li>
</ul>

<h1>In-place saving</h1>

<p>After an initial mod-export the resulting mod can be edited live and in-place
if the <code>modgen</code> mod is also present (optional).</p>

<p>To enable the saving directly into the exported mod you have to add it to the "trusted_mods" setting:</p>

<pre><code> secure.trusted_mods = modgen
</code></pre>


<p>Afterwards if you mark a region and execute <code>/export</code> the chunks are written to the exported mod itself</p>

<h1>Export format</h1>

<p><a name="manifest_json"></a></p>
<h2>manifest.json</h2>

<p>Json file that serves as an index to look up content-id's:</p>


<pre>
{
  <span class="string">"next_id"</span>: <span class="number">82</span>,
  <span class="string">"node_mapping"</span>: {
    <span class="string">"access_cards:palm_scanner_off"</span>: <span class="number">25</span>,
    <span class="string">"air"</span>: <span class="number">0</span>,
    <span class="string">"default:chest"</span>: <span class="number">53</span>,
    <span class="string">"digilines:wire_std_00100000"</span>: <span class="number">72</span>
  }
}
</pre>


<p><a name="chunks"></a></p>
<h2>chunks</h2>

<p>Mapblocks are exported in chunks with the following path-structure: <code>${export-mod}/map/chunk_${x}_${y}_${z}.bin</code></p>

<p><a name="versions"></a></p>
<h2>versions</h2>

<p>Major versions with breaking changes:</p>

<ul>
    <li>Version <code>1</code>: Initial release</li>
    <li>Version <code>2</code>: Reordered export axes from <code>z-x-y</code> to <code>z-x-y</code> (30% size decrease)</li>
    <li>Version <code>3</code>: Export whole chunks (50% size decrease)</li>
</ul>

<h1>Testing</h1>

<p>Requirements:
* Docker
* docker-compose</p>

<p>Usage:</p>

<pre>
docker-compose -f docker-compose.test.yml up <span class="comment">--build sut</span>
</pre>


<h1>License</h1>

<p>MIT

</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2022-03-07 07:25:16 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
